(this.webpackJsonpflappy=this.webpackJsonpflappy||[]).push([[0],[,,,,,function(t,i,e){t.exports=e.p+"static/media/jordanphoto.0b0cf605.png"},function(t,i,e){t.exports=e(13)},,,,,function(t,i,e){},function(t,i,e){},function(t,i,e){"use strict";e.r(i);var n=e(0),s=e.n(n),o=e(4),h=e.n(o),a=(e(11),e(12),e(1)),r=e(2),c=e(5),l=e.n(c),u=new Image;u.src=l.a;var p=.4,d=8,m=12,f=80,v=60,b=function(){function t(i){Object(a.a)(this,t),this.dimensions=i,this.x=this.dimensions.width/3,this.y=this.dimensions.height/2,this.vel=0}return Object(r.a)(t,[{key:"flap",value:function(){this.vel=-1*d}},{key:"moveBird",value:function(){this.y+=this.vel,this.vel+=p,Math.abs(this.vel)>m&&(this.vel>0?this.vel=m:this.vel=-1*m)}},{key:"animate",value:function(t){this.moveBird(),this.drawBird(t)}},{key:"drawBird",value:function(t){t.drawImage(u,this.x,this.y,f,v)}},{key:"bounds",value:function(){return{left:this.x,right:this.x+f,top:this.y,bottom:this.y+v}}},{key:"outOfBounds",value:function(){var t=this.y<0,i=this.y+v>this.dimensions.height;return t||i}}]),t}(),g=2,y=160,k=50,P=50,w=220,x=1,E=function(){function t(i){Object(a.a)(this,t),this.dimensions=i;var e=this.dimensions.width+60*x*g;this.pipes=[this.randomPipe(e),this.randomPipe(e+w),this.randomPipe(e+2*w)]}return Object(r.a)(t,[{key:"randomPipe",value:function(t){var i=this.dimensions.height-2*P-y,e=Math.random()*i+P;return{topPipe:{left:t,right:k+t,top:0,bottom:e},bottomPipe:{left:t,right:k+t,top:e+y,bottom:this.dimensions.height},passed:!1}}},{key:"animate",value:function(t){this.drawBackground(t),this.movePipes(),this.drawPipes(t)}},{key:"drawBackground",value:function(t){t.fillStyle="skyblue",t.fillRect(0,0,this.dimensions.width,this.dimensions.height)}},{key:"passedPipe",value:function(t,i){this.eachPipe((function(e){e.topPipe.right<t.left&&(e.passed||(e.passed=!0,i()))}))}},{key:"movePipes",value:function(){if(this.eachPipe((function(t){t.topPipe.left-=g,t.topPipe.right-=g,t.bottomPipe.left-=g,t.bottomPipe.right-=g})),this.pipes[0].topPipe.right<=0){this.pipes.shift();var t=this.pipes[1].topPipe.left+w;this.pipes.push(this.randomPipe(t))}}},{key:"drawPipes",value:function(t){this.eachPipe((function(i){t.fillStyle="green",t.fillRect(i.topPipe.left,i.topPipe.top,k,i.topPipe.bottom-i.topPipe.top),t.fillRect(i.bottomPipe.left,i.bottomPipe.top,k,i.bottomPipe.bottom-i.bottomPipe.top)}))}},{key:"eachPipe",value:function(t){this.pipes.forEach(t.bind(this))}},{key:"collidesWith",value:function(t){var i=function(t,i){return!(t.left>i.right-15||t.right<i.left+10)&&!(t.top>i.bottom-15||t.bottom<i.top+5)},e=!1;return this.eachPipe((function(n){(i(n.topPipe,t)||i(n.bottomPipe,t))&&(e=!0)})),e}}]),t}(),B=function(){function t(i){Object(a.a)(this,t),this.ctx=i.getContext("2d"),this.dimensions={width:i.width,height:i.height},this.registerEvents(),this.restart()}return Object(r.a)(t,[{key:"play",value:function(){this.running=!0,this.animate()}},{key:"restart",value:function(){this.running=!1,this.score=0,this.bird=new b(this.dimensions),this.level=new E(this.dimensions),this.animate()}},{key:"registerEvents",value:function(){this.boundClickHandler=this.click.bind(this),this.ctx.canvas.addEventListener("mousedown",this.boundClickHandler)}},{key:"click",value:function(t){this.running||this.play(),this.bird.flap()}},{key:"gameOver",value:function(){return this.level.collidesWith(this.bird.bounds())||this.bird.outOfBounds(this.height)}},{key:"animate",value:function(){var t=this;this.level.animate(this.ctx),this.bird.animate(this.ctx),this.gameOver()&&(alert(this.score),this.restart()),this.level.passedPipe(this.bird.bounds(),(function(){t.score+=1,console.log(t.score)})),this.drawScore(),this.running&&requestAnimationFrame(this.animate.bind(this))}},{key:"drawScore",value:function(){var t={x:this.dimensions.width/2,y:this.dimensions.height/4};this.ctx.font="bold 50pt serif",this.ctx.fillStyle="white",this.ctx.fillText(this.score,t.x,t.y),this.ctx.strokeStyle="black",this.ctx.lineWidth=2,this.ctx.strokeText(this.score,t.x,t.y)}}]),t}();function O(){return Object(n.useEffect)((function(){var t=document.getElementById("bird-game");new B(t)}),[]),s.a.createElement(s.a.Fragment,null)}var j=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"app-container"},s.a.createElement("canvas",{id:"bird-game",height:"640",width:"480"}),s.a.createElement(O,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));h.a.render(s.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.eedd0f8f.chunk.js.map